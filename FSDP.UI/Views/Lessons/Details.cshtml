@model FSDP.DATA.Lesson

@{
    ViewBag.Title = Model.LessonTitle;
}


<div class="container page text-center">
    @if (User.IsInRole("Admin") || User.IsInRole("Manager"))
    {
        <h3 class="text-right">
            @Html.DisplayNameFor(model => model.IsActive)

            @Html.DisplayFor(model => model.IsActive)
        </h3>}
    <h1 class="text-center">@ViewBag.Title</h1>
    <h4>Course: @Model.Courses.CourseName</h4>
    <br />
    <div id="success">@ViewBag.Success @Html.Raw(ViewBag.NextLesson)</div>
    <div class="fail">@ViewBag.Fail</div>
    <div>

        <h2 class="text-center">
            @Html.DisplayFor(model => model.Introduction)
        </h2>
        <br />
        <div>
            @if (Model.VideoUrl != null)
            {
                <div id="player"></div>
                <br />}
        </div>

        <div>
            @if (Model.PdfFileName != null)//look at using String.IsNullOrEmpty()
            {
                @:Pdf: <a href="@Url.Content("~/Content/Lessons/Pdf/" + Model.PdfFileName)" target="_blank">View PDF</a>
                <br />}
        </div>


        @if (User.IsInRole("Admin") || User.IsInRole("Manager"))
            {
            <br />
            <div class="row justify-content-md-center">
                <div class="col-md-4">
                    <h3><strong>@Html.DisplayNameFor(model => model.QuizQuestion)</strong></h3>
                    <br />
                    <h4>@Html.DisplayFor(model => model.QuizQuestion)</h4>
                </div>
                <div class="col-md-2">
                    <h3><strong>@Html.DisplayNameFor(model => model.QuizAnswer)</strong></h3>
                    <br />
                    <h4>@Html.DisplayFor(model => model.QuizAnswer)</h4>
                </div>
            </div> }
        <br />
    </div>

    @if (User.IsInRole("Employee"))
    {
        <div>
            @using (Html.BeginForm())
            {
                @Html.AntiForgeryToken()
                <div class="form-horizontal">
                    <hr />
                    <h3><strong>Quiz</strong></h3>
                    *Note all quiz answers are one word
                    <hr />
                    @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                    <div class="row justify-content-md-center">
                        <div class="form-group col-md-4">
                            <label class="control-label"><strong>Question:</strong></label><br /><br />
                            @Html.DisplayFor(model => model.QuizQuestion)
                        </div>
                        <div class="form-group col-md-4">
                            <div>
                                <label class="control-label"><strong>Answer:</strong></label><br />
                                <input style="display:inline-block" type="text" name="txtAnswer" />
                            </div>
                        </div>
                        <div class="form-group col-md-4">
                            <div>
                                <input type="submit" value="Submit" class="btn btn-default" />
                            </div>
                        </div>
                    </div>
                </div>
            }
        </div>
    }
    <p>
        <br />
        @if (User.IsInRole("Admin"))
        {
            @Html.ActionLink("Edit", "Edit", "Lessons", new { id = Model.LessonID, @class = "btn btn-cancel" })
        }
        @Html.ActionLink("Back to All Lessons", "Index", "Lessons", new { @class = "btn btn-default" })
        @Html.ActionLink("Back to Course Lessons", "Details", "Courses", new { id = Model.CourseID, @class = "btn btn-cancel" })
    </p>
</div>